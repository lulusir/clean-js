!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@clean-js/presenter"),require("react")):"function"==typeof define&&define.amd?define(["@clean-js/presenter","react"],t):"object"==typeof exports?exports["@clean-js/react-presenter"]=t(require("@clean-js/presenter"),require("react")):e["@clean-js/react-presenter"]=t(e["@clean-js/presenter"],e.react)}(this,(function(e,t){return(()=>{"use strict";var r={587:t=>{t.exports=e},156:e=>{e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return r[e](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{Provider:()=>i,usePresenter:()=>u,usePresenterContext:()=>p});var e=o(587),t=o(156),r=o.n(t);const n=Object.freeze({autoUpdate:!0,registry:[]});function u(r,o=n){const s=Object.assign(Object.assign({},n),o),u=(0,t.useRef)(((t,r)=>{var n;return(null===(n=null==r?void 0:r.registry)||void 0===n?void 0:n.length)&&r.registry.forEach((t=>{e.container.register(t.token,{useClass:t.useClass})})),e.container.resolve(t)})(r,s)),[a,c]=(0,t.useState)(u.current.state);(0,t.useEffect)((()=>{const e=u.current,t=e.updateView;let r;return e.updateView=()=>{c((t=>e.state))},e.__init(),s.autoUpdate&&(r=e.__useAutoUpdate().unsubscribe),()=>{e.updateView=t,null==e||e.__destroy(),"function"==typeof r&&r()}}),[]);return{presenter:u.current,state:a}}const a=new WeakMap;function c(e){const t=a;let n;return t.has(e)?n=t.get(e):(n=r().createContext(null),t.set(e,n)),n}function i({children:e,Presenter:o,autoUpdate:s=n.autoUpdate}){const a=u(o,{autoUpdate:s}),i=(0,t.useMemo)((()=>c(o)),[o]);return r().createElement(i.Provider,{value:a},e)}function p(e){const r=(0,t.useMemo)((()=>c(e)),[e]);return(0,t.useContext)(r)}})(),s})()}));