!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@clean-js/presenter"]=t():e["@clean-js/presenter"]=t()}(this,(function(){return(()=>{var e={735:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{container:()=>f,inject:()=>r,injectable:()=>i,singleton:()=>u});const n=Symbol("InjectToken"),r=e=>(t,r,o)=>{const i=Reflect.getOwnMetadata(n,t)||{};i[o]={token:e},Reflect.defineMetadata(n,i,t)},o=new Map,i=()=>e=>{const t=Reflect.getMetadata("design:paramtypes",e)||[];o.set(e,t)},s=new Map,c=new Map,u=()=>e=>{i()(e),s.set(e,!0)};class a{constructor(){this.__debug=!1,this.__RegisterMap=new Map}static singleton(){return a._instance||(a._instance=new a),a._instance}resolve(e){this.__debug&&(s.forEach(((e,t)=>{console.log("------singletonMarks"),console.log(`${t} = ${e}`),console.log("------singletonMarks")})),c.forEach(((e,t)=>{console.log("------singletonMap"),console.log(`${t} = ${e}`),console.log("------singletonMap")})),o.forEach(((e,t)=>{console.log("------paramTypesMap"),console.log(`${t} = ${e}`),console.log("------paramTypesMap")})),this.__RegisterMap.forEach(((e,t)=>{console.log("------__RegisterMap"),console.log(`${t} = ${e}`),console.log("------__RegisterMap")})));const t=s.get(e);if(t){const t=c.get(e);if(t)return t}const r=o.get(e);if(Array.isArray(r)&&r.length){const o=Reflect.getMetadata(n,e);o&&(this.__debug&&console.log(o,r,"injectTokens"),Object.keys(o).forEach((e=>{const{token:t}=o[e];r[+e]=this.__RegisterMap.get(t)})));const i=new e(...r.map((e=>this.resolve(e))));return t&&c.set(e,i),i}const i=new e;return t&&c.set(e,i),i}register(e,t){t.useClass&&this.__RegisterMap.set(e,t.useClass)}debug(e){"lujs"===e&&(this.__debug=!0)}}const f=a.singleton();return t})()},303:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var c=new o(r,i||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],c]:e._events[u].push(c):(e._events[u]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),c.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},c.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},c.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,o,i,s){var c=n?n+e:e;if(!this._events[c])return!1;var u,a,f=this._events[c],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,r),!0;case 4:return f.fn.call(f.context,t,r,o),!0;case 5:return f.fn.call(f.context,t,r,o,i),!0;case 6:return f.fn.call(f.context,t,r,o,i,s),!0}for(a=1,u=new Array(l-1);a<l;a++)u[a-1]=arguments[a];f.fn.apply(f.context,u)}else{var p,h=f.length;for(a=0;a<h;a++)switch(f[a].once&&this.removeListener(e,f[a].fn,void 0,!0),l){case 1:f[a].fn.call(f[a].context);break;case 2:f[a].fn.call(f[a].context,t);break;case 3:f[a].fn.call(f[a].context,t,r);break;case 4:f[a].fn.call(f[a].context,t,r,o);break;default:if(!u)for(p=1,u=new Array(l-1);p<l;p++)u[p-1]=arguments[p];f[a].fn.apply(f[a].context,u)}}return!0},c.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==t||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var u=0,a=[],f=c.length;u<f;u++)(c[u].fn!==t||o&&!c[u].once||r&&c[u].context!==r)&&a.push(c[u]);a.length?this._events[i]=1===a.length?a[0]:a:s(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{Presenter:()=>se,PresenterFactor:()=>ue,container:()=>ce.container,entry:()=>re,inject:()=>ce.inject,injectable:()=>ce.injectable,singleton:()=>ce.singleton});var e=n(303),t=n.n(e);function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[J]}function s(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===q}(e)||Array.isArray(e)||!!e[X]||!!e.constructor[X]||h(e)||v(e))}function c(e,t,n){void 0===n&&(n=!1),0===u(e)?(n?Object.keys:B)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function u(e){var t=e[J];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:v(e)?3:0}function a(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){return 2===u(e)?e.get(t):e[t]}function l(e,t,n){var r=u(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return N&&e instanceof Map}function v(e){return U&&e instanceof Set}function y(e){return e.o||e.t}function d(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[J];for(var n=B(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function b(e,t){return void 0===t&&(t=!1),_(e)||i(e)||!s(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&c(e,(function(e,t){return b(t,!0)}),!0)),e}function g(){o(2)}function _(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function m(e){var t=H[e];return t||o(18,e),t}function w(){return z}function O(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function P(e){j(e),e.p.forEach(x),e.p=null}function j(e){e===z&&(z=e.l)}function S(e){return z={p:[],l:z,h:e,m:!0,_:0}}function x(e){var t=e[J];0===t.i||1===t.i?t.j():t.O=!0}function A(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||m("ES5").S(t,e,r),r?(n[J].P&&(P(t),o(4)),s(e)&&(e=M(t,e),t.l||E(t,e)),t.u&&m("Patches").M(n[J],e,t.u,t.s)):e=M(t,n,[]),P(t),t.u&&t.v(t.u,t.s),e!==V?e:void 0}function M(e,t,n){if(_(t))return t;var r=t[J];if(!r)return c(t,(function(o,i){return D(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return E(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=d(r.k):r.o;c(3===r.i?new Set(o):o,(function(t,i){return D(e,r,o,t,i,n)})),E(e,o,!1),n&&e.u&&m("Patches").R(r,n,e.u,e.s)}return r.o}function D(e,t,n,r,o,c){if(i(o)){var u=M(e,o,c&&t&&3!==t.i&&!a(t.D,r)?c.concat(r):void 0);if(l(n,r,u),!i(u))return;e.m=!1}if(s(o)&&!_(o)){if(!e.h.F&&e._<1)return;M(e,o),t&&t.A.l||E(e,o)}}function E(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&b(t,n)}function k(e,t){var n=e[J];return(n?y(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function T(e){e.P||(e.P=!0,e.l&&T(e.l))}function F(e){e.o||(e.o=d(e.t))}function $(e,t,n){var r=h(t)?m("MapSet").N(t,n):v(t)?m("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Q;n&&(o=[r],i=Y);var s=Proxy.revocable(o,i),c=s.revoke,u=s.proxy;return r.k=u,r.j=c,u}(t,n):m("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function C(e){return i(e)||o(22,e),function e(t){if(!s(t))return t;var n,r=t[J],o=u(t);if(r){if(!r.P&&(r.i<4||!m("ES5").K(r)))return r.t;r.I=!0,n=L(t,o),r.I=!1}else n=L(t,o);return c(n,(function(t,o){r&&f(r.t,t)===o||l(n,t,e(o))})),3===o?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return d(e)}var I,z,K="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),N="undefined"!=typeof Map,U="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=K?Symbol.for("immer-nothing"):((I={})["immer-nothing"]=!0,I),X=K?Symbol.for("immer-draftable"):"__$immer_draftable",J=K?Symbol.for("immer-state"):"__$immer_state",q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),B="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,G=Object.getOwnPropertyDescriptors||function(e){var t={};return B(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},H={},Q={get:function(e,t){if(t===J)return e;var n=y(e);if(!a(n,t))return function(e,t,n){var r,o=R(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!s(r)?r:r===k(e.t,t)?(F(e),e.o[t]=$(e.A.h,r,e)):r},has:function(e,t){return t in y(e)},ownKeys:function(e){return Reflect.ownKeys(y(e))},set:function(e,t,n){var r=R(y(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=k(y(e),t),i=null==o?void 0:o[J];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(p(n,o)&&(void 0!==n||a(e.t,t)))return!0;F(e),T(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.D[t]=!1,F(e),T(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=y(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){o(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){o(12)}},Y={};c(Q,(function(e,t){Y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Y.deleteProperty=function(e,t){return Q.deleteProperty.call(this,e[0],t)},Y.set=function(e,t,n){return Q.set.call(this,e[0],t,n,e[0])};var Z=function(){function e(e){var t=this;this.g=W,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var c=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return c.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var u;if("function"!=typeof n&&o(6),void 0!==r&&"function"!=typeof r&&o(7),s(e)){var a=S(t),f=$(t,e,void 0),l=!0;try{u=n(f),l=!1}finally{l?P(a):j(a)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return O(a,r),A(e,a)}),(function(e){throw P(a),e})):(O(a,r),A(u,a))}if(!e||"object"!=typeof e){if((u=n(e))===V)return;return void 0===u&&(u=e),t.F&&b(u,!0),u}o(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){s(e)||o(8),i(e)&&(e=C(e));var t=S(this),n=$(this,e,void 0);return n[J].C=!0,j(t),n},t.finishDraft=function(e,t){var n=(e&&e[J]).A;return O(n,t),A(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!W&&o(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=m("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ee=new Z,te=ee.produce;ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee),ee.finishDraft.bind(ee);const ne=te;const re=new class{constructor(){this.useDevTool=!1}init({useDevTool:e}){this.useDevTool=e,oe.connect()}};const oe=new class{constructor(){this.name="@clean-js/presenter",this.store={},this.instance=null}connect(){var e;const t=null===(e=window)||void 0===e?void 0:e.__REDUX_DEVTOOLS_EXTENSION__;t?re.useDevTool&&(this.instance=t.connect({name:this.name})):console.warn("place install redux devtool")}init(e,t){null!==this.instance&&(this.store[t]=e,this.instance.send({type:`[${t}]:initState`,updatedAt:(new Date).toLocaleString()},this.store))}send(e,t){null!==this.instance&&(this.store[t]=e,this.instance.send({type:`[${t}]:setState`,updatedAt:(new Date).toLocaleString()},this.store))}remove(e){null!==this.instance&&(delete this.store[e],this.instance.send({type:`[${e}]:removeModel`,updatedAt:(new Date).toLocaleString()},this.store))}},ie="modelChange";class se{constructor(){this.__emitter=new(t())}get state(){if(void 0===this._state)throw Error("place defined state");return this._state}set state(e){if(void 0!==this._state)throw Error("please use setState");this._state=b(e,!0)}setState(e){let t;t="function"==typeof e?ne(this._state,e):b(e,!0),this._state=t,oe.send(this._state,this.constructor.name),this.__emitter.emit(ie,this._state)}subscribe(e){return this.__emitter.on(ie,e),{unsubscribe:()=>{this.__emitter.off(ie,e)}}}updateView(){throw Error("Please use adapter to bind view")}__init(){oe.init(this.state,this.constructor.name)}__destroy(){oe.remove(this.constructor.name)}__useAutoUpdate(){const{unsubscribe:e}=this.subscribe((()=>{this.updateView()}));return{unsubscribe:e}}}var ce=n(735);class ue{static get(e){return ce.container.resolve(e)}}})(),r})()}));